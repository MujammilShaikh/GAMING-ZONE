{"ast":null,"code":"import _slicedToArray from\"C:/Users/shaikh mujammil/OneDrive/Desktop/MY PROJECT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import Loader from'react-loader-spinner';import{Redirect}from'react-router-dom';import'../styles/Dashboard.css';import{getAllPosts}from'../actions/dashboardPosts';import DashbordCard from'../Components/DashboardCard';import{setCurrentPageDashboard,setIsLoggedIn}from'../actions/idFor';import{setIsLoading}from'../actions/isLoading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),craetePost=_useState2[0],setCreatePost=_useState2[1];var dispatch=useDispatch();var posts=useSelector(function(state){return state.dashboardPosts;});var currentPage=useSelector(function(state){return state.idFor.currentPageDashboard;});var isLoggedIn=useSelector(function(state){return state.idFor.isLoggedIn;});var isLoading=useSelector(function(state){return state.isLoading;});useEffect(function(){dispatch(setIsLoading(true));dispatch(getAllPosts(currentPage));},[currentPage]);if(!isLoggedIn){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}if(craetePost){return/*#__PURE__*/_jsx(Redirect,{to:\"dashboard/markdownform\"});}var onCreate=function onCreate(){setCreatePost(true);};var onLogout=function onLogout(){dispatch(setIsLoggedIn(false));};var handleNextPage=function handleNextPage(){dispatch(setIsLoading(true));dispatch(setCurrentPageDashboard(currentPage+1));};var handlePreviousPage=function handlePreviousPage(){dispatch(setIsLoading(true));dispatch(setCurrentPageDashboard(currentPage-1));};console.log(posts);return isLoading?/*#__PURE__*/_jsx(Loader,{type:\"Ovel\",color:\"\\t#FFFF33\",height:500,width:80}):/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logout-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"welcome-p\",children:\"Welcome back, Mujammil\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logout-span-div\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logout-span\",onClick:onCreate,children:\"Create Post\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logout-span\",onClick:onLogout,children:\"Logout\"})]})]}),posts.map(function(post){return/*#__PURE__*/_jsx(DashbordCard,{post:post},post._id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-div\",children:[currentPage!==1?/*#__PURE__*/_jsx(\"span\",{className:\"previous-page\",onClick:handlePreviousPage,children:\"<\"}):null,/*#__PURE__*/_jsx(\"span\",{className:\"next-page\",onClick:handleNextPage,children:\">\"})]})]});};export default Dashboard;","map":{"version":3,"sources":["C:/Users/shaikh mujammil/OneDrive/Desktop/MY PROJECT/client/src/Pages/Dashboard.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Loader","Redirect","getAllPosts","DashbordCard","setCurrentPageDashboard","setIsLoggedIn","setIsLoading","Dashboard","craetePost","setCreatePost","dispatch","posts","state","dashboardPosts","currentPage","idFor","currentPageDashboard","isLoggedIn","isLoading","onCreate","onLogout","handleNextPage","handlePreviousPage","console","log","map","post","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Loader from 'react-loader-spinner'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport '../styles/Dashboard.css'\r\nimport { getAllPosts } from '../actions/dashboardPosts'\r\nimport DashbordCard from '../Components/DashboardCard'\r\nimport { setCurrentPageDashboard, setIsLoggedIn } from '../actions/idFor';\r\nimport { setIsLoading } from '../actions/isLoading';\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\n  const [craetePost, setCreatePost] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n  const posts = useSelector(state => state.dashboardPosts)\r\n  const currentPage = useSelector((state) => state.idFor.currentPageDashboard)\r\n  const isLoggedIn = useSelector((state) => state.idFor.isLoggedIn)\r\n  const isLoading = useSelector(state => state.isLoading)\r\n\r\n  useEffect(() => {\r\n    dispatch(setIsLoading(true))\r\n    dispatch(getAllPosts(currentPage))\r\n  }, [currentPage])\r\n\r\n  if (!isLoggedIn) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n  if (craetePost) {\r\n    return <Redirect to=\"dashboard/markdownform\" />\r\n  }\r\n\r\n  const onCreate = () => {\r\n    setCreatePost(true)\r\n  }\r\n\r\n  const onLogout = () => {\r\n    dispatch(setIsLoggedIn(false))\r\n  }\r\n\r\n  const handleNextPage = () => {\r\n    dispatch(setIsLoading(true))\r\n    dispatch(setCurrentPageDashboard(currentPage + 1))\r\n  }\r\n  const handlePreviousPage = () => {\r\n    dispatch(setIsLoading(true))\r\n    dispatch(setCurrentPageDashboard(currentPage - 1))\r\n  }\r\n\r\n  console.log(posts);\r\n\r\n  return (\r\n    isLoading ? (\r\n      <Loader type=\"Ovel\" color=\"\t#FFFF33\" height={500} width={80} />\r\n    ) : (\r\n      <div className=\"dashboard-container\">\r\n        <div className=\"logout-div\">\r\n          <p className=\"welcome-p\">Welcome back, Mujammil</p>\r\n          <div className=\"logout-span-div\">\r\n            <span className=\"logout-span\" onClick={onCreate}>Create Post</span>\r\n            <span className=\"logout-span\" onClick={onLogout}>Logout</span>\r\n          </div>\r\n        </div>\r\n        {\r\n          posts.map((post) => <DashbordCard key={post._id} post={post} />)\r\n        }\r\n        <div className=\"page-div\">\r\n          {currentPage !== 1 ? <span className=\"previous-page\" onClick={handlePreviousPage}>&lt;</span>\r\n            : null}\r\n          <span className=\"next-page\" onClick={handleNextPage}>&gt;</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n"]},"metadata":{},"sourceType":"module"}